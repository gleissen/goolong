(define-sort Elt () Int)
(define-sort Set () (Array Elt Bool))
(define-sort IntMap () (Array Elt Elt))
(define-fun set_emp () Set ((as const Set) false))
(define-fun set_mem ((x Elt) (s Set)) Bool (select s x))
(define-fun set_add ((s Set) (x Elt)) Set  (store s x true))
(define-fun set_cap ((s1 Set) (s2 Set)) Set ((_ map and) s1 s2))
(define-fun set_cup ((s1 Set) (s2 Set)) Set ((_ map or) s1 s2))
(define-fun set_com ((s Set)) Set ((_ map not) s))
(define-fun set_dif ((s1 Set) (s2 Set)) Set (set_cap s1 (set_com s2)))
(define-fun set_sub ((s1 Set) (s2 Set)) Bool (= set_emp (set_dif s1 s2)))
(define-fun set_minus ((s1 Set) (x Elt)) Set (set_dif s1 (set_add set_emp x)))
(declare-fun set_size (Set) Int)
(declare-const w (Array Int Int))
(declare-const success (Array Int Int))
(declare-const l (Array Int Int))
(declare-const m (Array Int Int))
(declare-const pt (Array Int Int))
(declare-const id (Array Int Int))
(declare-const k (Array Int Int))
(declare-const k!1 (Array Int Int))
(declare-const l!1 (Array Int Int))
(declare-const rsuccess (Array Int Int))
(declare-const rw (Array Int Int))
(declare-const px (Array Int Int))
(declare-const a0 Int)
(declare-const ps Set)
(declare-const max (Array Int Int))
(declare-const t (Array Int Int))
(declare-const ready!1 (Array Int Int))
(declare-const rwT (Array Int Int))
(declare-const msgType (Array Int Int))
(declare-const xT (Array Int Int))
(declare-const pID (Array Int Int))
(declare-const ho (Array Int Int))
(declare-const C Int)
(declare-const wT (Array Int Int))
(declare-const x (Array Int Int))
(declare-const as Set)
(declare-const ready (Array Int Int))
(declare-const ho!1 (Array Int Int))
(declare-const decided (Array Int Int))
(declare-const pc!ps (Array Int Int))

(assert (not (and (forall ((A!0 Int)
                           (pc!ps (Array Int Int))
                           (pcNext!ps (Array Int Int))
                           (ho (Array Int Int))
                           (ready (Array Int Int))
                           (C Int)
                           (k (Array Int Int))
                           (l (Array Int Int))
                           (A Int)
                           (C Int))
                   (=> (set_mem A!0 ps)
                       (and (=> (and (forall ((A Int))
                                      (and (=> (and (set_mem A ps)
                                                    (= (select pc!ps A) 2))
                                               (forall ((i Int))
                                                (=> (set_mem i ps)
                                                    (= (+ (+ (select k i) (select l i)) (select m i)) (set_size as)))))
                                           (=> (and (set_mem A ps)
                                                    (= (select pc!ps A) 0))
                                               (or
                                                (forall ((i Int))
                                                 (=> (set_mem i ps)
                                                     (= (+ (+ (select k i) (select l i)) (select m i)) (set_size as))))
                                                ))))
                                     (and (= (select pc!ps A) 0)
                                          (or
                                           (= pcNext!ps (store pc!ps A 0))
                                           (= pcNext!ps (store pc!ps A 2))))
                                     (set_mem A!0 ps)
                                     (set_mem A ps))
                                (=> (= ho!1 (store ho A (+ (select ho A!0) 1)))
                                    (=> (= k!1 (store k A (+ (select k A!0) 1)))
                                        (=> (= l!1 (store l A (- (select l A!0) 1)))
                                            (forall ((A Int))
                                             (and (=> (and (set_mem A ps)
                                                           (= (select pcNext!ps A) 2))
                                                      (forall ((i Int))
                                                       (=> (set_mem i ps)
                                                           (= (+ (+ (select k!1 i) (select l!1 i)) (select m i)) (set_size as)))))
                                                  ))))))
                            ))))))

(check-sat)
